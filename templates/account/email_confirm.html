{% extends 'base.html' %}
{% load i18n %}  {# <-- ADD THIS LINE #}
{% load socialaccount %}

{% block title %}
    {% trans "Confirm Email" %} - PayJoint
{% endblock %}

{% block extra_head %}
<style type="text/tailwindcss">
    :root {
        --bg-deep-navy: #000814;
        --accent-royal-blue-dark: #001d3d;
        --accent-royal-blue-medium: #003566;
        --highlight-gold-yellow: #ffc300;
        --highlight-gold-yellow-darker: #ffd60a;
        --text-primary: #ffffff;
        --text-secondary: #a9a9a9;
    }
    body {
        background-color: var(--bg-deep-navy);
        font-family: 'Roboto', sans-serif;
    }
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Montserrat', sans-serif;
    }
    .login-container::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(
            from 0deg at 50% 50%,
            var(--accent-royal-blue-dark) 0%,
            var(--accent-royal-blue-medium) 30%,
            var(--bg-deep-navy) 60%,
            var(--bg-deep-navy) 100%
        );
        animation: rotate 10s linear infinite;
    }
    .page-background::after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: radial-gradient(circle, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 2rem 2rem;
        opacity: 0.5;
    }
    @keyframes rotate {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    .tab-button.active {
        color: var(--highlight-gold-yellow);
        border-bottom-color: var(--highlight-gold-yellow);
    }
    .tab-content {
        display: none;
    }
    .tab-content.active {
        display: block;
    }
    .auth-input-style {
        @apply w-full px-4 py-3 bg-[var(--accent-royal-blue-dark)] border border-[var(--accent-royal-blue-medium)] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[var(--highlight-gold-yellow-darker)] transition-shadow duration-300;
    }
</style>
{% endblock %}

{% block optional_header_content %}
{# No optional header content for this page, as it's a confirmation #}
{% endblock optional_header_content %}

{% block content %}
<div class="relative min-h-screen flex items-center justify-center p-4 overflow-hidden page-background">
    <div class="login-container relative max-w-md w-full">
        <div class="relative bg-[var(--bg-deep-navy)] rounded-2xl p-8 z-10 text-center">
            <div class="flex justify-center items-center mb-4">
                <div class="w-16 h-16 bg-[var(--accent-royal-blue-medium)] rounded-full flex items-center justify-center">
                    <span class="text-2xl font-bold text-[var(--highlight-gold-yellow)]">PJ</span>
                </div>
            </div>
            <h1 class="text-3xl font-bold text-white mb-4">{% trans "Confirm E-mail Address" %}</h1>
            <p class="text-[var(--text-secondary)] mb-6">
                {% if confirmation %}
                    {% trans "Please confirm that" %} <a href="mailto:{{ confirmation.email_address.email }}">{{ confirmation.email_address.email }}</a> {% trans "is the correct e-mail address for your account." %}
                {% else %}
                    {% url 'account_email' as email_url %}
                    {% trans 'This e-mail confirmation link expired or is invalid. Please' %} <a href="{{ email_url }}">{% trans 'issue a new e-mail confirmation request' %}</a>.
                {% endif %}
            </p>

            {% if confirmation %}
                <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
                    {% csrf_token %}
                    <button class="w-full bg-[var(--highlight-gold-yellow)] text-[var(--bg-deep-navy)] font-bold py-3 px-4 rounded-lg hover:bg-[var(--highlight-gold-yellow-darker)] transition-colors duration-300 transform hover:scale-105 shadow-lg shadow-[var(--highlight-gold-yellow)]/20" type="submit">
                        {% trans 'Confirm' %}
                    </button>
                </form>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}